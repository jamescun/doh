# doh

doh is a command line client for DNS-over-HTTPS.

```sh
go get -u github.com/jamescun/doh/cmd/doh
```

## Usage

```
usage: doh [options] <record type> <name>
```

By default, doh will output the results generated by Google DNS to the console in a human readable format.

```sh
$ doh A example.org
Return Code: NOERROR
Truncated: false
Recursion Desired / Available: true / true
DNSSEC Disabled / Validated: false / true

Answer:
  example.org.  A  5655  '93.184.216.34'

Query time: 246.292823ms
```

Optionally the raw JSON response can be returned by using `--json`.

```sh
$ doh --json A example.org
{"Status":0,"TC":false,"RD":true,"RA":true,"AD":true,"CD":false,"Question":[{"name":"example.org.","type":1,"CD":false}],"Answer":[{"name":"example.org.","type":1,"TTL":4110,"data":"93.184.216.34"}]}
```

To use a server other than Google DNS, such as CloudFlare's 1.1.1.1, this can be configured using `--server`.

```sh
$ doh --server https://cloudlfare-dns/dns-query A example.org
```
